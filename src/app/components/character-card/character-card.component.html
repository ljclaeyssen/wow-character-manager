<div
  class="character-card"
  [class.selected]="selected()"
  (click)="onCharacterClick()">

  <!-- Character Header -->
  <div class="character-header">
    <div class="character-icons">
      <img
        [src]="getFactionIcon(character().faction)"
        [alt]="character().faction + ' faction'"
        class="faction-logo">
      <img
        [src]="getClassIcon(character().characterClass)"
        [alt]="character().characterClass + ' class'"
        class="class-logo">
    </div>
    <div class="character-info">
      <h3 class="character-name" [style.color]="getClassColor(character().characterClass)">
        {{ character().name }}
      </h3>
    </div>
    <div class="profession-icons">
      @for (profession of character().professions; track profession) {
        <img
          [src]="getProfessionIcon(profession)"
          [alt]="profession + ' profession'"
          class="profession-logo"
          [title]="profession">
      }
    </div>
    <div class="character-actions">
      <button
        class="action-btn edit-btn"
        (click)="onEditClick($event)"
        title="Edit Character">
        <i class="pi pi-pencil"></i>
      </button>
    </div>
  </div>

  <!-- Progress Section -->
  <div class="character-progress">
    <!-- Vault Progress -->
    <div class="progress-section vault-section">
      <div class="progress-header">
        <div class="progress-title">
          <i class="pi pi-trophy"></i>
          <span>Great Vault</span>
        </div>
        <div class="progress-value">{{ character().vaultProgress }}/9</div>
      </div>
      <div class="progress-bar-container">
        <div class="progress-bar">
          <div
            class="progress-fill"
            [style.width.%]="character().vaultPercentage"
            [class.complete]="character().vaultPercentage === 100">
          </div>
        </div>
        <span class="progress-percentage">{{ character().vaultPercentage }}%</span>
      </div>
    </div>

    <!-- Weekly Activities -->
    <div class="progress-section activities-section">
      <div class="progress-header">
        <div class="progress-title">
          <i class="pi pi-calendar"></i>
          <span>Weekly Activities</span>
        </div>
        <div class="activity-count" [class.active]="character().weeklyActivities > 0">
          {{ character().weeklyActivities }}
        </div>
      </div>
    </div>

  </div>

  <!-- Selection Indicator -->
  <div class="selection-indicator">
    <i class="pi pi-check"></i>
  </div>
</div>