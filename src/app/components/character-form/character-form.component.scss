::ng-deep .character-form-dialog {
  width: 90vw;
  max-width: 600px;
  min-width: 400px;

  .p-dialog-header {
    background: var(--p-surface-100);
    border-bottom: 1px solid var(--p-surface-border);
    padding: 1.5rem;

    .p-dialog-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--p-text-color);
    }
  }

  .p-dialog-content {
    padding: 0;
    background: var(--p-surface-ground);
  }

  .p-dialog-footer {
    display: none; // We handle buttons in the form
  }
}

.character-form {
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  position: relative;

  .form-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;

    .field-label {
      font-weight: 500;
      color: var(--p-text-color);
      font-size: 0.875rem;
      letter-spacing: 0.025em;
    }

    .field-error {
      margin-top: 0.25rem;

      ::ng-deep {
        .p-message {
          margin: 0;
          padding: 0.375rem 0.5rem;
          font-size: 0.75rem;

          .p-message-text {
            font-size: 0.75rem;
          }
        }
      }
    }

    // Input styling
    ::ng-deep {
      .p-inputtext,
      .p-dropdown,
      .p-multiselect,
      .p-inputnumber {
        width: 100%;

        &.ng-invalid.ng-touched,
        &.ng-invalid.ng-dirty {
          border-color: var(--p-red-500);
          box-shadow: 0 0 0 0.1rem rgba(239, 68, 68, 0.2);
        }
      }

      .p-dropdown {
        .p-dropdown-label {
          padding: 0.75rem;
        }

        &.p-disabled {
          opacity: 0.6;
          cursor: not-allowed;

          .p-dropdown-trigger {
            cursor: not-allowed;
          }
        }
      }

      .p-multiselect {
        .p-multiselect-label {
          padding: 0.75rem;
        }

        .p-multiselect-token {
          background: var(--p-primary-100);
          color: var(--p-primary-700);
          border-radius: var(--p-border-radius-sm);
          padding: 0.25rem 0.5rem;
          margin: 0.125rem;
          font-size: 0.75rem;
          font-weight: 500;

          .p-multiselect-token-icon {
            margin-left: 0.25rem;
            color: var(--p-primary-600);
          }
        }
      }

      .p-inputnumber {
        .p-inputnumber-input {
          text-align: center;
        }

        .p-inputnumber-button {
          width: 2rem;

          &.p-inputnumber-button-up {
            border-top-right-radius: var(--p-border-radius-md);
            border-bottom-right-radius: var(--p-border-radius-md);
          }

          &.p-inputnumber-button-down {
            border-top-left-radius: var(--p-border-radius-md);
            border-bottom-left-radius: var(--p-border-radius-md);
          }
        }
      }
    }
  }

  .form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--p-surface-border);

    ::ng-deep {
      .p-button {
        padding: 0.75rem 1.5rem;
        font-weight: 500;
        font-size: 0.875rem;
        border-radius: var(--p-border-radius-md);
        transition: all 0.2s;

        &.p-button-secondary {
          &.p-button-text {
            color: var(--p-text-color-secondary);

            &:hover {
              background: var(--p-surface-hover);
              color: var(--p-text-color);
            }
          }
        }

        &.p-button-primary {
          background: var(--p-primary-500);
          border-color: var(--p-primary-500);

          &:hover {
            background: var(--p-primary-600);
            border-color: var(--p-primary-600);
          }

          &:disabled {
            opacity: 0.6;
            cursor: not-allowed;
          }
        }
      }
    }
  }

  .form-loading {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    border-radius: var(--p-border-radius-md);
    z-index: 10;

    i {
      font-size: 1.5rem;
      color: var(--p-primary-500);
    }

    span {
      color: var(--p-text-color);
      font-weight: 500;
      font-size: 0.875rem;
    }
  }
}

// Profession option styling
.profession-option {
  display: flex;
  align-items: center;
  padding: 0.5rem;
  gap: 0.5rem;
  transition: background-color 0.2s;

  &:hover {
    background: var(--p-surface-hover);
  }

  span {
    font-size: 0.875rem;
    color: var(--p-text-color);
  }
}

// Responsive design
@media (max-width: 768px) {
  ::ng-deep .character-form-dialog {
    width: 95vw;
    min-width: 320px;

    .p-dialog-header {
      padding: 1rem;
    }
  }

  .character-form {
    padding: 1rem;
    gap: 1rem;

    .form-field {
      gap: 0.375rem;

      .field-label {
        font-size: 0.8125rem;
      }
    }

    .form-actions {
      flex-direction: column-reverse;
      gap: 0.5rem;

      ::ng-deep .p-button {
        width: 100%;
        justify-content: center;
      }
    }
  }
}

@media (max-width: 480px) {
  .character-form {
    padding: 0.75rem;

    .form-field {
      ::ng-deep {
        .p-dropdown-label,
        .p-multiselect-label {
          padding: 0.625rem;
          font-size: 0.875rem;
        }

        .p-inputtext {
          padding: 0.625rem;
          font-size: 0.875rem;
        }
      }
    }
  }
}

// Dark mode support
@media (prefers-color-scheme: dark) {
  .character-form {
    .form-loading {
      background: rgba(0, 0, 0, 0.9);
    }
  }
}